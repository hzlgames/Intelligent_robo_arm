# 运动学与 Jog 笛卡尔控制操作指南

本指南介绍如何使用主界面“操作台”进行机械臂的笛卡尔空间（XYZ + Pitch）调试。

## 1. 环境准备
1. **连接串口**：在主界面顶栏选择正确的 `COM` 口，点击 **“连接”**。若无硬件，请勾选 **“模拟”**。
2. **启动相机**：选择相机设备，点击 **“开始”**。建议勾选 **“十字线”** 以辅助定位。
3. **标定检查**：若初次运行，点击底栏 **“诊断(D)...” → “Motion”页**，确保 `J1..J5` 已分配正确的 `ServoId` 并设置了合理的 `Min/Max` 限位。

## 2. Jog 控制操作（按住移动模式）

### 键盘控制（推荐，最精准）
- **平面移动 (X/Y)**：使用 `W` (前/Forward)、`S` (后/Back)、`A` (左/Left)、`D` (右/Right)。
- **高度升降 (Z)**：使用 `E` (上/Up)、`Q` (下/Down)。
- **末端俯仰 (Pitch)**：使用 `R` (抬头/Up)、`F` (低头/Down)。
- **速度控制**：
  - **Shift键**：按住可让移动速度倍增（加速）。
  - **滑条**：在右侧面板手动调节“线速度”和“俯仰速度”上限。

### 鼠标控制（摇杆体验）
- **虚拟摇杆**：在右侧黑色的 **“JogPad”** 框内按住鼠标左键并拖拽。
  - **上下拖拽**：对应 Y 轴（前后）。
  - **左右拖拽**：对应 X 轴（左右）。
  - 拖拽距离越远，移动速度越快。

### 安全操作
- **松手即停**：一旦松开键盘或鼠标，指令立即停止发送。
- **紧急停止**：在任何时候按下 **空格键 (Space)**，程序会立即清空所有待发送指令并锁定当前位置。

## 3. 位姿与 IK 状态说明
- **Pose 文本**：显示在右侧“状态”框。单位为 mm 和度。
- **IK 失败提示**：若目标点超出机械臂物理触及范围，或处于奇异点，状态栏会显示 **“[IK失败]”** 且机械臂不会移动。此时请向相反方向 Jog 尝试恢复。
- **HUD 叠加**：在画面左上角可直接看到当前的实时位姿和系统负荷（TX FPS）。

## 4. 常见问题排查
- **Jog 不动**：检查串口是否已连接，以及 `MotionConfig` 里是否设置了 `ServoId`。未设置 ID 的关节将被运动学忽略。
- **画面闪烁**：这是 D3D 与 UI 缩放同步的正常现象。建议调整好窗口大小后再进行精细操作。
- **运动方向相反**：请在 **“诊断(D)...” → “Motion”页** 勾选对应关节的 **“Invert”** 选项。

